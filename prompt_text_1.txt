
supabase table
annon key: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhdmxrZGx0d3hnd2hyeXRyZm5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUyODE4ODcsImV4cCI6MjA3MDg1Nzg4N30.UES-9otFBN8cxK3tcb0Tsp8KZy_bCY8tQDM0eyf9iSo
service role: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhdmxrZGx0d3hnd2hyeXRyZm5wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NTI4MTg4NywiZXhwIjoyMDcwODU3ODg3fQ.OHHleyDp4_vbwKEIqPirj6rYoFkEiaVdqtZjAY8igx8


create table public.key_people (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  name text null,
  phone_number text null,
  notes text null,
  created_by text null,
  geolocation_url text null,
  instagram_id text null,
  facebook_id text null,
  twitter_id text null,
  other_social_media_id text null,
  longitude text null,
  latitude text null,
  persona text null,
  constraint key_people_pkey primary key (id)
) TABLESPACE pg_default;

create table public.booth_level_analytics (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  booth_number bigint not null,
  panchayat_name text null,
  json_data jsonb null,
  "Main_Town" text null,
  constraint booth_level_analytics_pkey primary key (id)
) TABLESPACE pg_default;


create table public.allowed_user (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  name character varying null,
  phone_number text null,
  email text null,
  hashed_password text null,
  role text null,
  constraint allowed_user_pkey primary key (id)
) TABLESPACE pg_default;

import { createClient } from '@supabase/supabase-js'
const supabaseUrl = 'https://vavlkdltwxgwhrytrfnp.supabase.co'
const supabaseKey = process.env.SUPABASE_KEY
const supabase = createClient(supabaseUrl, supabaseKey)


Standby key
3ee94faa-d043-4b18-82bf-ed331d72d37d
ECC (P-256)

Current key
1d840c70-8116-440f-a3b9-9085072e9dbe
Legacy HS256 (Shared Secret)

Task: 

create next js voter intelligence web app which i will deploy to next js
allowed_user table - Admin will add user either email or phone with default password
User can come and login with default password. User will have default role to be manager
admin can can make manager as admin. Admin will have right of admin dashbord, not manager.
user can login in using email address or phone no, reset password. He can login in using google sso

admin can reset user password or delete his access


Admin or manager can add key people. Key people are the booth level workers who will handle booth

admin and all member of this site can view booth level dashbord. On booth dashbord level, there will be many booths which will have unique booth booth_number
In booth_level_analytics, there will be singlr row for each booth
json_data will be like this {"caste": {"muslim": 10.5, "hindu": 80}, "age": {"0-20":5, "20-80":90, "80+":1}, ...}

make graph, pie chart etc



